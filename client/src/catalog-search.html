<link rel="import" href="../bower_components/polymer/polymer.html">

<link rel="import" href="catalog-styles.html">
<link rel="import" href="catalog-list.html">
<link rel="import" href="page-loading-behavior.html">

<dom-module id="catalog-search">
  <template>
    <style include="catalog-styles"></style>

    <h1 class="page-title">[[_title(query, pageTitle, totalResults)]]</h1>

    <div id="header-main" class="main-content">
      <catalog-list id="list" total-results="{{totalResults}}" query="[[query]]" base-urls="[[baseUrls]]" loading="{{loading}}" disabled="[[!visible]]"></catalog-list>
    </div>

  </template>

  <script>
    Polymer({

      is: 'catalog-search',

      behaviors: [
        window.PageLoadingBehavior,
      ],

      properties: {
        query: String,
        totalResults: Number,
        baseUrls: Object,
        route: Object,
        visible: {
          type: Boolean,
          value: false,
        },
        author: String,
        pageTitle: {
          value: '',
          type: String,
        },
      },

      _title: function(query, title, totalResults) {
        if (totalResults || title)
          return title ? title : 'Results for "' + query + '"';

        return 'No results for "' + query + '"';
      },
    });
  </script>
</dom-module>
